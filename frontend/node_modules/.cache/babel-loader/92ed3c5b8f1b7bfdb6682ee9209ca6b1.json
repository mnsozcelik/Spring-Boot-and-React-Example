{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\ozcelik\\\\Desktop\\\\workspace\\\\frontend\\\\src\\\\pages\\\\UserSignupPage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Input from \"../components/Input\";\nimport { withTranslation } from \"react-i18next\";\nimport ButtonWithProgress from \"../components/ButtonWithProgress\";\nimport { withApiProgress } from \"../shared/ApiProgress\";\nimport { connect } from \"react-redux\";\nimport { signupHandler } from \"../redux/authActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserSignupPage = props => {\n  _s();\n\n  const [username, setUsername] = useState();\n  const [displayName, setDisplayName] = useState();\n  const [password, setPassword] = useState();\n  const [passwordRepeat, setPasswordRepeat] = useState();\n  const [errors, setErrors] = useState({}); // state = {\n  //   username: null,\n  //   displayName: null,\n  //   password: null,\n  //   passwordRepeat: null,\n  //   errors: {},\n  // };\n\n  const onChange = event => {\n    const {\n      t\n    } = props;\n    const {\n      name,\n      value\n    } = event.target; // const errors = { ...this.state.errors };\n    // errors[name] = undefined;\n    // if (name === \"password\" || name === \"passwordRepeat\") {\n    //   if (name === \"password\" && value !== this.state.passwordRepeat) {\n    //     errors.passwordRepeat = \"Password mismatch\";\n    //   } else if (name === \"passwordRepeat\" && value !== this.state.password) {\n    //     errors.passwordRepeat = \"Password mismatch\";\n    //   } else {\n    //     errors.passwordRepeat = undefined;\n    //   }\n    // }\n    // this.setState({\n    //   [name]: value,\n    //   errors,\n    // });\n  };\n\n  const onClickSignUp = async event => {\n    event.preventDefault();\n    const {\n      history,\n      dispatch\n    } = props;\n    const {\n      push\n    } = history; // const { username, displayName, password } = this.state;\n\n    const body = {\n      username,\n      displayName,\n      password\n    };\n\n    try {\n      await dispatch(signupHandler(body));\n      push(\"/\");\n    } catch (error) {\n      if (error.response.data.validationErrors) {// this.setState({ errors: error.response.data.validationErrors });\n      }\n    }\n  };\n\n  const {\n    t,\n    pendingApiCall\n  } = props; // const { errors } = this.state;\n\n  const {\n    username: usernameError,\n    displayName: displayNameError,\n    password: passwordError,\n    passwordRepeat: passwordRepeatError\n  } = errors;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center \",\n        children: props.t(\"Sign Up\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"username\",\n        label: props.t(\"Username\"),\n        error: username,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"displayName\",\n        label: t(\"Display Name\"),\n        error: displayName,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"password\",\n        label: t(\"Password\"),\n        type: \"password\",\n        error: password,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"passwordRepeat\",\n        label: t(\"Password Repeat\"),\n        type: \"password\",\n        error: passwordRepeat,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(ButtonWithProgress, {\n          onClick: onClickSignUp,\n          disabled: pendingApiCall || passwordRepeat !== undefined,\n          pendingApiCall: pendingApiCall,\n          text: t(\"Sign Up\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserSignupPage, \"owQptdg6U43QDN6JEW/AdnK58EQ=\");\n\n_c = UserSignupPage;\nconst UserSignupPageWithTranslation = withTranslation()(UserSignupPage);\nconst UserSignupPageWithApiProgressForSignupRequest = withApiProgress(UserSignupPageWithTranslation, \"/api/1.0/users\");\n_c2 = UserSignupPageWithApiProgressForSignupRequest;\nconst UserSignupPageWithApiProgressForAuthRequest = withApiProgress(UserSignupPageWithApiProgressForSignupRequest, \"/api/1.0/auth\");\n_c3 = UserSignupPageWithApiProgressForAuthRequest;\nexport default connect()(UserSignupPageWithApiProgressForAuthRequest);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"UserSignupPage\");\n$RefreshReg$(_c2, \"UserSignupPageWithApiProgressForSignupRequest\");\n$RefreshReg$(_c3, \"UserSignupPageWithApiProgressForAuthRequest\");","map":{"version":3,"sources":["D:/Users/ozcelik/Desktop/workspace/frontend/src/pages/UserSignupPage.js"],"names":["React","Input","withTranslation","ButtonWithProgress","withApiProgress","connect","signupHandler","UserSignupPage","props","username","setUsername","useState","displayName","setDisplayName","password","setPassword","passwordRepeat","setPasswordRepeat","errors","setErrors","onChange","event","t","name","value","target","onClickSignUp","preventDefault","history","dispatch","push","body","error","response","data","validationErrors","pendingApiCall","usernameError","displayNameError","passwordError","passwordRepeatError","undefined","UserSignupPageWithTranslation","UserSignupPageWithApiProgressForSignupRequest","UserSignupPageWithApiProgressForAuthRequest"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,eAAT,QAAgC,eAAhC;AACA,OAAOC,kBAAP,MAA+B,kCAA/B;AACA,SAASC,eAAT,QAAgC,uBAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,QAA8B,sBAA9B;;;AAEA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAAA;;AAChC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BC,QAAQ,EAAxC;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCF,QAAQ,EAA9C;AACA,QAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,EAAxC;AACA,QAAM,CAACK,cAAD,EAAiBC,iBAAjB,IAAsCN,QAAQ,EAApD;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC,CALgC,CAOhC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMS,QAAQ,GAAIC,KAAD,IAAW;AAC1B,UAAM;AAACC,MAAAA;AAAD,QAAMd,KAAZ;AACA,UAAM;AAAEe,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBH,KAAK,CAACI,MAA9B,CAF0B,CAG1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GAlBD;;AAoBA,QAAMC,aAAa,GAAG,MAAOL,KAAP,IAAiB;AACrCA,IAAAA,KAAK,CAACM,cAAN;AACA,UAAM;AAAEC,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAAwBrB,KAA9B;AACA,UAAM;AAAEsB,MAAAA;AAAF,QAAWF,OAAjB,CAHqC,CAKrC;;AAEA,UAAMG,IAAI,GAAG;AACXtB,MAAAA,QADW;AAEXG,MAAAA,WAFW;AAGXE,MAAAA;AAHW,KAAb;;AAKA,QAAI;AACF,YAAMe,QAAQ,CAACvB,aAAa,CAACyB,IAAD,CAAd,CAAd;AACAD,MAAAA,IAAI,CAAC,GAAD,CAAJ;AACD,KAHD,CAGE,OAAOE,KAAP,EAAc;AACd,UAAIA,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBC,gBAAxB,EAA0C,CACxC;AACD;AACF;AACF,GApBD;;AAsBA,QAAM;AAAEb,IAAAA,CAAF;AAAKc,IAAAA;AAAL,MAAwB5B,KAA9B,CAzDgC,CA0DhC;;AACA,QAAM;AAAEC,IAAAA,QAAQ,EAAE4B,aAAZ;AAA2BzB,IAAAA,WAAW,EAAE0B,gBAAxC;AAA0DxB,IAAAA,QAAQ,EAAGyB,aAArE;AAAoFvB,IAAAA,cAAc,EAAGwB;AAArG,MAA4HtB,MAAlI;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACE;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA,kBAA8BV,KAAK,CAACc,CAAN,CAAQ,SAAR;AAA9B;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,KAAK,EAAEd,KAAK,CAACc,CAAN,CAAQ,UAAR,CAFT;AAGE,QAAA,KAAK,EAAEb,QAHT;AAIE,QAAA,QAAQ,EAAEW;AAJZ;AAAA;AAAA;AAAA;AAAA,cAFF,eAQE,QAAC,KAAD;AACE,QAAA,IAAI,EAAC,aADP;AAEE,QAAA,KAAK,EAAEE,CAAC,CAAC,cAAD,CAFV;AAGE,QAAA,KAAK,EAAEV,WAHT;AAIE,QAAA,QAAQ,EAAEQ;AAJZ;AAAA;AAAA;AAAA;AAAA,cARF,eAcE,QAAC,KAAD;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,KAAK,EAAEE,CAAC,CAAC,UAAD,CAFV;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAER,QAJT;AAKE,QAAA,QAAQ,EAAEM;AALZ;AAAA;AAAA;AAAA;AAAA,cAdF,eAqBE,QAAC,KAAD;AACE,QAAA,IAAI,EAAC,gBADP;AAEE,QAAA,KAAK,EAAEE,CAAC,CAAC,iBAAD,CAFV;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAEN,cAJT;AAKE,QAAA,QAAQ,EAAEI;AALZ;AAAA;AAAA;AAAA;AAAA,cArBF,eA6BE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACE,QAAC,kBAAD;AACE,UAAA,OAAO,EAAEM,aADX;AAEE,UAAA,QAAQ,EAAEU,cAAc,IAAIpB,cAAc,KAAKyB,SAFjD;AAGE,UAAA,cAAc,EAAEL,cAHlB;AAIE,UAAA,IAAI,EAAEd,CAAC,CAAC,SAAD;AAJT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA7BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA0CD,CAtGD;;GAAMf,c;;KAAAA,c;AAwGN,MAAMmC,6BAA6B,GAAGxC,eAAe,GAAGK,cAAH,CAArD;AACA,MAAMoC,6CAA6C,GAAGvC,eAAe,CACnEsC,6BADmE,EAEnE,gBAFmE,CAArE;MAAMC,6C;AAIN,MAAMC,2CAA2C,GAAGxC,eAAe,CACjEuC,6CADiE,EAEjE,eAFiE,CAAnE;MAAMC,2C;AAKN,eAAevC,OAAO,GAAGuC,2CAAH,CAAtB","sourcesContent":["import React from \"react\";\r\nimport Input from \"../components/Input\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport ButtonWithProgress from \"../components/ButtonWithProgress\";\r\nimport { withApiProgress } from \"../shared/ApiProgress\";\r\nimport { connect } from \"react-redux\";\r\nimport { signupHandler } from \"../redux/authActions\";\r\n\r\nconst UserSignupPage = (props) => {\r\n  const [username, setUsername] = useState();\r\n  const [displayName, setDisplayName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [passwordRepeat, setPasswordRepeat] = useState();\r\n  const [errors, setErrors] = useState({});\r\n\r\n  // state = {\r\n  //   username: null,\r\n  //   displayName: null,\r\n  //   password: null,\r\n  //   passwordRepeat: null,\r\n  //   errors: {},\r\n  // };\r\n\r\n  const onChange = (event) => {\r\n    const {t} = props;\r\n    const { name, value } = event.target;\r\n    // const errors = { ...this.state.errors };\r\n    // errors[name] = undefined;\r\n    // if (name === \"password\" || name === \"passwordRepeat\") {\r\n    //   if (name === \"password\" && value !== this.state.passwordRepeat) {\r\n    //     errors.passwordRepeat = \"Password mismatch\";\r\n    //   } else if (name === \"passwordRepeat\" && value !== this.state.password) {\r\n    //     errors.passwordRepeat = \"Password mismatch\";\r\n    //   } else {\r\n    //     errors.passwordRepeat = undefined;\r\n    //   }\r\n    // }\r\n    // this.setState({\r\n    //   [name]: value,\r\n    //   errors,\r\n    // });\r\n  };\r\n\r\n  const onClickSignUp = async (event) => {\r\n    event.preventDefault();\r\n    const { history, dispatch } = props;\r\n    const { push } = history;\r\n\r\n    // const { username, displayName, password } = this.state;\r\n\r\n    const body = {\r\n      username,\r\n      displayName,\r\n      password,\r\n    };\r\n    try {\r\n      await dispatch(signupHandler(body));\r\n      push(\"/\");\r\n    } catch (error) {\r\n      if (error.response.data.validationErrors) {\r\n        // this.setState({ errors: error.response.data.validationErrors });\r\n      }\r\n    }\r\n  };\r\n\r\n  const { t, pendingApiCall } = props;\r\n  // const { errors } = this.state;\r\n  const { username: usernameError, displayName: displayNameError, password : passwordError, passwordRepeat : passwordRepeatError} = errors;\r\n  return (\r\n    <div className=\"container\">\r\n      <form>\r\n        <h1 className=\"text-center \">{props.t(\"Sign Up\")}</h1>\r\n        <Input\r\n          name=\"username\"\r\n          label={props.t(\"Username\")}\r\n          error={username}\r\n          onChange={onChange}\r\n        />\r\n        <Input\r\n          name=\"displayName\"\r\n          label={t(\"Display Name\")}\r\n          error={displayName}\r\n          onChange={onChange}\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          label={t(\"Password\")}\r\n          type=\"password\"\r\n          error={password}\r\n          onChange={onChange}\r\n        />\r\n        <Input\r\n          name=\"passwordRepeat\"\r\n          label={t(\"Password Repeat\")}\r\n          type=\"password\"\r\n          error={passwordRepeat}\r\n          onChange={onChange}\r\n        />\r\n\r\n        <div className=\"text-center\">\r\n          <ButtonWithProgress\r\n            onClick={onClickSignUp}\r\n            disabled={pendingApiCall || passwordRepeat !== undefined}\r\n            pendingApiCall={pendingApiCall}\r\n            text={t(\"Sign Up\")}\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst UserSignupPageWithTranslation = withTranslation()(UserSignupPage);\r\nconst UserSignupPageWithApiProgressForSignupRequest = withApiProgress(\r\n  UserSignupPageWithTranslation,\r\n  \"/api/1.0/users\"\r\n);\r\nconst UserSignupPageWithApiProgressForAuthRequest = withApiProgress(\r\n  UserSignupPageWithApiProgressForSignupRequest,\r\n  \"/api/1.0/auth\"\r\n);\r\n\r\nexport default connect()(UserSignupPageWithApiProgressForAuthRequest);\r\n"]},"metadata":{},"sourceType":"module"}