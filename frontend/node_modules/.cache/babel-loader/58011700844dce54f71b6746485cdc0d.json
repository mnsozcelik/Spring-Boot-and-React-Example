{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\ozcelik\\\\Desktop\\\\workspace\\\\frontend\\\\src\\\\pages\\\\UserLoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Input from \"../components/Input\";\nimport { useTranslation } from \"react-i18next\";\nimport ButtonWithProgress from \"../components/ButtonWithProgress\";\nimport { useApiProgress } from \"../shared/ApiProgress\";\nimport { useDispatch } from \"react-redux\";\nimport { loginHandler } from \"../redux/authActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserLoginPage = props => {\n  _s();\n\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setError(undefined);\n  }, [username, password]);\n\n  const onClickLogin = async event => {\n    event.preventDefault();\n    const creds = {\n      username,\n      password\n    };\n    const {\n      history\n    } = props;\n    const {\n      push\n    } = history;\n    setError(undefined);\n\n    try {\n      await dispatch(loginHandler(creds));\n      push(\"/\");\n    } catch (apiError) {\n      setError(apiError.response.data.message);\n    }\n  };\n\n  const {\n    t\n  } = useTranslation();\n  const pendingApiCall = useApiProgress('/api/1.0/auth');\n  const buttonEnabled = username && password;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: t(\"Login\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: t(\"Username\"),\n        onChange: event => setUsername(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: t(\"Password\"),\n        type: \"password\",\n        onChange: event => setPassword(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(ButtonWithProgress, {\n          onClick: onClickLogin,\n          disabled: !buttonEnabled || pendingApiCall,\n          pendingApiCall: pendingApiCall,\n          text: t(\"Login\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserLoginPage, \"2WiJaAGAqkkMlY7k1p3u18D42nE=\", false, function () {\n  return [useDispatch, useTranslation, useApiProgress];\n});\n\n_c = UserLoginPage;\nconst UserLoginPageWithApiProgress = withApiProgress(UserLoginPage, \"/api/1.0/auth\");\n_c2 = UserLoginPageWithApiProgress;\nexport default UserLoginPageWithApiProgress;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UserLoginPage\");\n$RefreshReg$(_c2, \"UserLoginPageWithApiProgress\");","map":{"version":3,"sources":["D:/Users/ozcelik/Desktop/workspace/frontend/src/pages/UserLoginPage.js"],"names":["React","useState","useEffect","Input","useTranslation","ButtonWithProgress","useApiProgress","useDispatch","loginHandler","UserLoginPage","props","username","setUsername","password","setPassword","error","setError","dispatch","undefined","onClickLogin","event","preventDefault","creds","history","push","apiError","response","data","message","t","pendingApiCall","buttonEnabled","target","value","UserLoginPageWithApiProgress","withApiProgress"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,kBAAP,MAA+B,kCAA/B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,YAAT,QAA6B,sBAA7B;;;AAEA,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAAA;;AAC/B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,EAAxC;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,EAAxC;AACA,QAAM,CAACc,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,EAAlC;AACA,QAAMgB,QAAQ,GAAGV,WAAW,EAA5B;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,QAAQ,CAACE,SAAD,CAAR;AACD,GAFQ,EAEN,CAACP,QAAD,EAAWE,QAAX,CAFM,CAAT;;AAIA,QAAMM,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpCA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,KAAK,GAAG;AACZX,MAAAA,QADY;AAEZE,MAAAA;AAFY,KAAd;AAIA,UAAM;AAAEU,MAAAA;AAAF,QAAcb,KAApB;AACA,UAAM;AAAEc,MAAAA;AAAF,QAAWD,OAAjB;AAEAP,IAAAA,QAAQ,CAACE,SAAD,CAAR;;AAEA,QAAI;AACF,YAAMD,QAAQ,CAACT,YAAY,CAACc,KAAD,CAAb,CAAd;AACAE,MAAAA,IAAI,CAAC,GAAD,CAAJ;AACD,KAHD,CAGE,OAAOC,QAAP,EAAiB;AACjBT,MAAAA,QAAQ,CAACS,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,CAAuBC,OAAxB,CAAR;AACD;AACF,GAjBD;;AAmBA,QAAM;AAAEC,IAAAA;AAAF,MAAQzB,cAAc,EAA5B;AACA,QAAO0B,cAAc,GAAIxB,cAAc,CAAC,eAAD,CAAvC;AACA,QAAMyB,aAAa,GAAGpB,QAAQ,IAAIE,QAAlC;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACE;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA,kBAA6BgB,CAAC,CAAC,OAAD;AAA9B;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AACE,QAAA,KAAK,EAAEA,CAAC,CAAC,UAAD,CADV;AAEE,QAAA,QAAQ,EAAGT,KAAD,IAAWR,WAAW,CAACQ,KAAK,CAACY,MAAN,CAAaC,KAAd;AAFlC;AAAA;AAAA;AAAA;AAAA,cAFF,eAME,QAAC,KAAD;AACE,QAAA,KAAK,EAAEJ,CAAC,CAAC,UAAD,CADV;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,QAAQ,EAAGT,KAAD,IAAWN,WAAW,CAACM,KAAK,CAACY,MAAN,CAAaC,KAAd;AAHlC;AAAA;AAAA;AAAA;AAAA,cANF,EAWGlB,KAAK,iBAAI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA,kBAAqCA;AAArC;AAAA;AAAA;AAAA;AAAA,cAXZ,eAYE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACE,QAAC,kBAAD;AACE,UAAA,OAAO,EAAEI,YADX;AAEE,UAAA,QAAQ,EAAE,CAACY,aAAD,IAAkBD,cAF9B;AAGE,UAAA,cAAc,EAAEA,cAHlB;AAIE,UAAA,IAAI,EAAED,CAAC,CAAC,OAAD;AAJT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAyBD,CAzDD;;GAAMpB,a;UAIaF,W,EAyBHH,c,EACWE,c;;;KA9BrBG,a;AA2DN,MAAMyB,4BAA4B,GAAGC,eAAe,CAClD1B,aADkD,EAElD,eAFkD,CAApD;MAAMyB,4B;AAKN,eAAeA,4BAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Input from \"../components/Input\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ButtonWithProgress from \"../components/ButtonWithProgress\";\r\nimport { useApiProgress } from \"../shared/ApiProgress\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loginHandler } from \"../redux/authActions\";\r\n\r\nconst UserLoginPage = (props) => {\r\n  const [username, setUsername] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setError(undefined);\r\n  }, [username, password]);\r\n\r\n  const onClickLogin = async (event) => {\r\n    event.preventDefault();\r\n    const creds = {\r\n      username,\r\n      password,\r\n    };\r\n    const { history } = props;\r\n    const { push } = history;\r\n\r\n    setError(undefined);\r\n    \r\n    try {\r\n      await dispatch(loginHandler(creds));\r\n      push(\"/\");\r\n    } catch (apiError) {\r\n      setError(apiError.response.data.message);\r\n    }\r\n  };\r\n\r\n  const { t } = useTranslation();\r\n  const  pendingApiCall  = useApiProgress('/api/1.0/auth') ;\r\n  const buttonEnabled = username && password;\r\n  return (\r\n    <div className=\"container\">\r\n      <form>\r\n        <h1 className=\"text-center\">{t(\"Login\")}</h1>\r\n        <Input\r\n          label={t(\"Username\")}\r\n          onChange={(event) => setUsername(event.target.value)}\r\n        />\r\n        <Input\r\n          label={t(\"Password\")}\r\n          type=\"password\"\r\n          onChange={(event) => setPassword(event.target.value)}\r\n        />\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        <div className=\"text-center\">\r\n          <ButtonWithProgress\r\n            onClick={onClickLogin}\r\n            disabled={!buttonEnabled || pendingApiCall}\r\n            pendingApiCall={pendingApiCall}\r\n            text={t(\"Login\")}\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst UserLoginPageWithApiProgress = withApiProgress(\r\n  UserLoginPage,\r\n  \"/api/1.0/auth\"\r\n);\r\n\r\nexport default UserLoginPageWithApiProgress;\r\n"]},"metadata":{},"sourceType":"module"}