{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\ozcelik\\\\Desktop\\\\workspace\\\\frontend\\\\src\\\\pages\\\\UserLoginPage.js\";\nimport React from \"react\";\nimport Input from \"../components/Input\";\nimport { withTranslation } from \"react-i18next\";\nimport ButtonWithProgress from \"../components/ButtonWithProgress\";\nimport { withApiProgress } from \"../shared/ApiProgress\";\nimport { connect } from \"react-redux\";\nimport { loginHandler } from \"../redux/authActions\"; // import {Authentication} from '../shared/AuthenticationContext';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserLoginPage = props => {\n  // static contextType = Authentication;\n  // state = {\n  //   username: null,\n  //   password: null,\n  //   error: null,\n  //   pendingApiCall: false,\n  // };\n  const onChange = event => {\n    const {\n      name,\n      value\n    } = event.target; // this.setState({\n    //   [name]: value,\n    //   error: null,\n    // });\n  };\n\n  const onClickLogin = async event => {\n    event.preventDefault(); // const { username, password } = this.state;\n\n    const creds = {\n      username,\n      password\n    };\n    const {\n      history,\n      dispatch\n    } = props;\n    const {\n      push\n    } = history; // this.setState({\n    //   error: null,\n    // });\n\n    try {\n      await dispatch(loginHandler(creds));\n      push(\"/\");\n    } catch (apiError) {// this.setState({\n      //   error: apiError.response.data.message,\n      // });\n    }\n  };\n\n  const {\n    t,\n    pendingApiCall\n  } = props;\n  const {\n    username,\n    password,\n    error\n  } = undefined;\n  const buttonEnabled = username && password;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: t(\"Login\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: t(\"Username\"),\n        name: \"username\",\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: t(\"Password\"),\n        name: \"password\",\n        type: \"password\",\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(ButtonWithProgress, {\n          onClick: onClickLogin,\n          disabled: !buttonEnabled || pendingApiCall,\n          pendingApiCall: pendingApiCall,\n          text: t(\"Login\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_c = UserLoginPage;\nconst UserLoginPageWithTranslation = withTranslation()(UserLoginPage);\nconst UserLoginPageWithApiProgress = withApiProgress(UserLoginPageWithTranslation, \"/api/1.0/auth\");\n_c2 = UserLoginPageWithApiProgress;\nexport default connect()(UserLoginPageWithApiProgress);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UserLoginPage\");\n$RefreshReg$(_c2, \"UserLoginPageWithApiProgress\");","map":{"version":3,"sources":["D:/Users/ozcelik/Desktop/workspace/frontend/src/pages/UserLoginPage.js"],"names":["React","Input","withTranslation","ButtonWithProgress","withApiProgress","connect","loginHandler","UserLoginPage","props","onChange","event","name","value","target","onClickLogin","preventDefault","creds","username","password","history","dispatch","push","apiError","t","pendingApiCall","error","undefined","buttonEnabled","UserLoginPageWithTranslation","UserLoginPageWithApiProgress"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Input from \"../components/Input\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport ButtonWithProgress from \"../components/ButtonWithProgress\";\r\nimport { withApiProgress } from \"../shared/ApiProgress\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginHandler } from \"../redux/authActions\";\r\n// import {Authentication} from '../shared/AuthenticationContext';\r\nconst UserLoginPage  =  (props) => {\r\n  // static contextType = Authentication;\r\n\r\n  // state = {\r\n  //   username: null,\r\n  //   password: null,\r\n  //   error: null,\r\n  //   pendingApiCall: false,\r\n  // };\r\n\r\n  const onChange = (event) => {\r\n    const { name, value } = event.target;\r\n    // this.setState({\r\n    //   [name]: value,\r\n    //   error: null,\r\n    // });\r\n  };\r\n\r\n  const onClickLogin = async (event) => {\r\n    event.preventDefault();\r\n    // const { username, password } = this.state;\r\n    const creds = {\r\n      username,\r\n      password,\r\n    };\r\n    const { history, dispatch } = props;\r\n    const { push } = history;\r\n\r\n    // this.setState({\r\n    //   error: null,\r\n    // });\r\n\r\n    try {\r\n      await dispatch(loginHandler(creds))\r\n      push(\"/\");\r\n    } catch (apiError) {\r\n      // this.setState({\r\n      //   error: apiError.response.data.message,\r\n      // });\r\n    }\r\n  };\r\n\r\n  const { t, pendingApiCall } = props;\r\n  const { username, password, error } = undefined;\r\n  const buttonEnabled = username && password;\r\n  return (\r\n    <div className=\"container\">\r\n      <form>\r\n        <h1 className=\"text-center\">{t(\"Login\")}</h1>\r\n        <Input\r\n          label={t(\"Username\")}\r\n          name=\"username\"\r\n          onChange={onChange}\r\n        />\r\n        <Input\r\n          label={t(\"Password\")}\r\n          name=\"password\"\r\n          type=\"password\"\r\n          onChange={onChange}\r\n        />\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        <div className=\"text-center\">\r\n          <ButtonWithProgress\r\n            onClick={onClickLogin}\r\n            disabled={!buttonEnabled || pendingApiCall}\r\n            pendingApiCall={pendingApiCall}\r\n            text={t(\"Login\")}\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst UserLoginPageWithTranslation = withTranslation()(UserLoginPage);\r\n\r\nconst UserLoginPageWithApiProgress = withApiProgress(\r\n  UserLoginPageWithTranslation,\r\n  \"/api/1.0/auth\"\r\n);\r\n\r\nexport default connect()(UserLoginPageWithApiProgress);\r\n"]},"metadata":{},"sourceType":"module"}